(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{28:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){e.exports={App:"App_App__2BnSz","App-logo":"App_App-logo__2E_Fl","App-logo-spin":"App_App-logo-spin__1dOHe","App-header":"App_App-header__3SKUy","App-link":"App_App-link__2dUTv"}},73:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(7),o=n.n(a),s=(n(28),n(5)),i=n.n(s),u=n(14),l=n(9),p=n(4),b=n(10),j=n(1),m=function(e){var t=e.onSearch;return Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(e.target.elements.pictureName.value.toLowerCase())},children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",{className:"SearchForm-input",type:"text",name:"pictureName",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})};function d(e){var t=e.onClick,n=e.webformatURL,c=e.tags;return Object(j.jsx)("li",{className:"ImageGalleryItem",children:Object(j.jsx)("img",{src:n,onClick:t,alt:c,className:"ImageGalleryItem-image"})})}var h=function(e){var t=e.pictures,n=e.onSelect;return Object(j.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,c=e.webformatURL,r=e.largeImageURL,a=e.tags;return Object(j.jsx)(d,{webformatURL:c,tags:a,onClick:function(){return n(r)}},t)}))})},f=n(23),O=n.n(f);n(51);function g(){return Object(j.jsx)("div",{className:"loaderContainer",children:Object(j.jsx)(O.a,{type:"ThreeDots",color:"#00BFFF",height:160,width:160})})}var v=function(e){var t=e.onClick;return Object(j.jsx)("div",{className:"btnContainer",children:Object(j.jsx)("button",{type:"button",onClick:t,className:"Button",children:"Load more"})})},x=document.querySelector("#modal-root");function S(e){var t=e.src,n=e.tags,r=e.onClose;Object(c.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&r()};return Object(a.createPortal)(Object(j.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&r()},children:Object(j.jsx)("div",{className:"Modal",children:Object(j.jsx)("img",{src:t,alt:n})})}),x)}var w=n(13),k=n.n(w);k.a.defaults.baseURL="https://pixabay.com";var y=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/?q=".concat(t,"&page=").concat(n,"&key=").concat("22597300-51a9bfff07e627635843c3062","&image_type=photo&orientation=horizontal&per_page=12"));case 2:return c=e.sent,r=c.data,e.abrupt("return",r.hits);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();n(71),n(72);function _(){var e=Object(c.useState)(""),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),o=Object(p.a)(a,2),s=o[0],d=o[1],f=Object(c.useState)(null),O=Object(p.a)(f,2),x=O[0],w=O[1],k=Object(c.useState)("idle"),_=Object(p.a)(k,2),A=_[0],N=_[1],C=Object(c.useState)(1),F=Object(p.a)(C,2),L=F[0],E=F[1],I=Object(c.useState)(!1),U=Object(p.a)(I,2),R=U[0],B=U[1],T=Object(c.useState)(null),G=Object(p.a)(T,2),q=G[0],z=G[1];Object(c.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N("pending"),e.prev=1,e.next=4,y(n,L);case 4:if(t=e.sent,""!==n.trim()&&0!==t.length){e.next=7;break}return e.abrupt("return",b.b.error("Sorry, but there are no pictures with  ".concat(n)));case 7:d((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t))})),N("resolved"),L>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),N("rejected"),b.b.error("Something went wrong");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}n&&function(){e.apply(this,arguments)}()}),[L,n]);var D=function(){E(1),r(""),d([]),w(null),N("idle")},H=s.length>=12;return Object(j.jsxs)("div",{children:[Object(j.jsx)(b.a,{}),Object(j.jsx)(m,{onSearch:function(e){D(),r(e)}}),Object(j.jsx)(h,{pictures:s,onSelect:function(e,t){B(!R),w(e),z(t)}}),"pending"===A&&Object(j.jsx)(g,{}),H&&Object(j.jsx)(v,{onClick:function(){E((function(e){return e+1}))}}),R&&Object(j.jsx)(S,{src:x,tags:q,onClose:function(){B(!R),w("")}})]})}o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(_,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.384eae68.chunk.js.map