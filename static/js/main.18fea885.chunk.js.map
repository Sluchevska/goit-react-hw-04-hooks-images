{"version":3,"sources":["components/App/App.module.css","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","components/services/api.js","components/App/App.js","index.js"],"names":["module","exports","SearchBar","onSearch","className","onSubmit","e","preventDefault","target","elements","pictureName","value","toLowerCase","type","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","onClick","webformatURL","tags","src","alt","ImageGallery","pictures","onSelect","map","id","largeImageURL","App","color","height","width","Button","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","currentTarget","axios","defaults","baseURL","fetchPics","page","a","get","data","hits","useState","setPictureName","setPictures","selectedImg","setSelectedImg","reqStatus","setReqStatus","setPage","showModal","setShowModal","setAlt","trim","length","toast","error","prevPictures","scrollTo","top","documentElement","scrollHeight","behavior","getFetchImg","resetSearch","showButton","largeImageUrl","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.18fea885.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2BnSz\",\"App-logo\":\"App_App-logo__2E_Fl\",\"App-logo-spin\":\"App_App-logo-spin__1dOHe\",\"App-header\":\"App_App-header__3SKUy\",\"App-link\":\"App_App-link__2dUTv\"};","import PropTypes from 'prop-types';\r\nconst SearchBar = ({ onSearch }) => {\r\n  const handleSearch = e => {\r\n    e.preventDefault();\r\n    onSearch(e.target.elements.pictureName.value.toLowerCase());\r\n  };\r\n\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <form className=\"SearchForm\" onSubmit={handleSearch}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          name=\"pictureName\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n\r\nSearchBar.propTypes = {\r\n  onSearch: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nexport default function ImageGalleryItem({ onClick, webformatURL, tags }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={webformatURL}\r\n        onClick={onClick}\r\n        alt={tags}\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ pictures, onSelect }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {pictures.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          tags={tags}\r\n          onClick={() => onSelect(largeImageURL)}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  pictures: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ),\r\n  onSelect: PropTypes.func.isRequired,\r\n};\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default function App()  {\r\n\r\n  return(\r\n  <div className=\"loaderContainer\">\r\n  <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={160} width={160} />\r\n  </div>)\r\n  }","import PropTypes from 'prop-types';\r\nfunction Button({ onClick }) {\r\n  return (\r\n    <div className=\"btnContainer\">\r\n    <button type=\"button\" onClick={onClick} className=\"Button\">\r\n      Load more\r\n      </button>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\n","import { createPortal } from 'react-dom';\r\nimport { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ src, tags, onClose }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  });\r\n  const handleBackDrop = e => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className=\"Overlay\" onClick={handleBackDrop}>\r\n      <div className=\"Modal\">\r\n        <img src={src} alt={tags} />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  src: PropTypes.string.isRequired,\r\n  alt: PropTypes.string,\r\n};\r\n","import axios from 'axios';\r\naxios.defaults.baseURL = 'https://pixabay.com';\r\nconst keyApi = '22597300-51a9bfff07e627635843c3062';\r\n\r\nexport const fetchPics = async (pictureName, page) => {\r\n  const {data} = await axios.get(\r\n    `/api/?q=${pictureName}&page=${page}&key=${keyApi}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  );\r\n  return data.hits;\r\n};","import { useEffect, useState } from 'react';\r\n\r\nimport toast, { Toaster } from 'react-hot-toast';\r\nimport SearchBar from '../SearchBar/SearchBar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nimport Loader from '../Loader/Loader';\r\nimport Button from '../Button/Button';\r\nimport Modal from '../Modal/Modal';\r\nimport { fetchPics } from '../services/api';\r\nimport '../image-finder/styles.css';\r\nimport './App.module.css';\r\n\r\nexport default function App() {\r\n  const [pictureName, setPictureName] = useState('');\r\n  const [pictures, setPictures] = useState([]);\r\n  const [selectedImg, setSelectedImg] = useState(null);\r\n  const [reqStatus, setReqStatus] = useState('idle');\r\n  const [page, setPage] = useState(1);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [alt, setAlt] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!pictureName) {\r\n      return;\r\n    }\r\n    setReqStatus('pending');\r\n    async function getFetchImg() {\r\n      try {\r\n        const pictures = await fetchPics(pictureName, page);\r\n        if (pictureName.trim() === '' || pictures.length === 0) {\r\n          return toast.error(\r\n            `Sorry, but there are no pictures with  ${pictureName}`,\r\n          );\r\n        }\r\n\r\n        setPictures(prevPictures => [...prevPictures, ...pictures]);\r\n        setReqStatus('resolved');\r\n\r\n        page > 1 &&\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth',\r\n          });\r\n      } catch (error) {\r\n        setReqStatus('rejected');\r\n        toast.error('Something went wrong');\r\n      }\r\n    }\r\n\r\n    getFetchImg();\r\n  }, [page, pictureName]);\r\n\r\n  const handleFormSubmit = pictureName => {\r\n    resetSearch();\r\n    setPictureName(pictureName);\r\n  };\r\n  const handleSelectedImage = (largeImageUrl, tags) => {\r\n    setShowModal(!showModal);\r\n    setSelectedImg(largeImageUrl);\r\n    setAlt(tags);\r\n  };\r\n  const loadMoreBtnClick = () => {\r\n    setPage(prevPage => prevPage + 1);\r\n  };\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n    setSelectedImg('');\r\n  };\r\n  const resetSearch = () => {\r\n    setPage(1);\r\n    setPictureName('');\r\n    setPictures([]);\r\n    setSelectedImg(null);\r\n    setReqStatus('idle');\r\n  };\r\n\r\n  const showButton = pictures.length >= 12;\r\n\r\n  return (\r\n    <div>\r\n      <Toaster />\r\n      <SearchBar onSearch={handleFormSubmit} />\r\n      <ImageGallery pictures={pictures} onSelect={handleSelectedImage} />\r\n      {reqStatus === 'pending' && <Loader />}\r\n      {showButton && <Button onClick={loadMoreBtnClick} />}\r\n      {showModal && (\r\n        <Modal src={selectedImg} tags={alt} onClose={toggleModal} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}